//maze_generator.cpp
#include <iostream>
#include <ctime>
#include <cstdlib>
#include "maze_generator.h"
using namespace std;

//generating a 30x50 maze
//the function input is an initialized two-dimensional array, and the output is a maze with randomly generated numbers 
//0 represents wall, 1 represents path, 2 represents key, 3 represents exit
// 4 represents the portal
// 5 represents the monster, 6 represents the treasury box
//the maze is generated by using random number generator
void generate_maze(int **maze){
    srand(time(NULL));
    for(int i=0;i<30;i++){
        for(int j=0;j<30;j++){
            if(i==0 || i==29 || j==0 || j==29){
                maze[i][j] = 0;
            }
            else{
                if (rand()%100 < 20){
                    maze[i][j] = 0;
                }
                else
                maze[i][j] = 1;
            }
        }
    }
    //make sure the knight can escape from the maze
    //check whether the maze is solvable
    //if the maze is not solvable, regenerate the maze
    maze[1][1] = 1;
    maze[28][28] = 3;
    maze[15][15] = 2;
    maze[1][2] = 1;
    maze[2][1] = 1;
    maze[20][20] = 5; //monster
}